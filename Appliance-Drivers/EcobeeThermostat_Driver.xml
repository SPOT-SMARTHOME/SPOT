<?xml version="1.0" encoding="UTF-8" ?>
<drivers>
    <driver>
        <driverName>EcobeeThermostat</driverName>
        <deviceType>HVAC</deviceType>
        <driverVendor>Ecobee</driverVendor>
        <image></image>
        <localAccess>false</localAccess>
        <cloudAccess>true</cloudAccess>
        <pullingPeridInSec></pullingPeridInSec>
        <common>
            <httpHeaderFields>
                <headerField>
                    <name>Content-Type</name>
                    <value>application/json;charset=UTF-8</value>
                </headerField>
                <headerField>
                    <name>Authorization</name>
                    <value>Bearer @%=accessToken%@</value>
                </headerField>
            </httpHeaderFields>
            <baseUri></baseUri>
            <sendAllVariables>true</sendAllVariables>
        </common>
        <auth>
            <httpMethod>Post</httpMethod>
            <baseUri>https://api.ecobee.com/token?grant_type=refresh_token&amp;refresh_token=@%=refreshToken%@&amp;client_id=@%=clientId%@</baseUri>
            <accessToken>6uQAnyl5CMbA7pCIkYdQMRFtEomOq1yr</accessToken>
            <refreshToken>ddBroHq8hr9xfQK9j9WokafmOeoedw1J</refreshToken>
            <clientId>2ztLuSwRadFnSOIL0QpnWo1o3n5bwPbq</clientId>
            <expiresIn>3540</expiresIn>
        </auth>
        <read>
            <httpMethod>Get</httpMethod>
            <baseUri>https://api.ecobee.com</baseUri>
            <uriPath>/1/thermostat?json={"selection":{"includeAlerts":"true","selectionType":"registered","selectionMatch":"","includeEvents":"true","includeSettings":"true","includeRuntime":"true"}}</uriPath>
            <uriExtentionPattern>null</uriExtentionPattern>
            <responsePattern>json</responsePattern>
        </read>
        <write>
            <httpMethod>Post</httpMethod>
            <baseUri>https://api.ecobee.com</baseUri>
            <uriPath>/1/thermostat?format=json</uriPath>
            <bodyType>json</bodyType>
            <bodyPattern>$varName$:$varValue</bodyPattern>
        </write>
        <variablesList>
            <variable>
                <name>selection</name>
                <value></value>
                <type>Nested</type>
                <writePermission>true</writePermission>
                <parent>/</parent>
            </variable>
            <variable>
                <name>selectionType</name>
                <value>thermostats</value>
                <type>String</type>
                <writePermission>true</writePermission>
                <parent>/selection</parent>
                <showOnUi>false</showOnUi>
            </variable>
            <variable>
                <name>selectionMatch</name>
                <value>313815435472</value>
                <type>String</type>
                <writePermission>true</writePermission>
                <parent>/selection</parent>
                <showOnUi>false</showOnUi>
            </variable>
            <variable>
                <name>thermostat</name>
                <value></value>
                <type>Nested</type>
                <writePermission>true</writePermission>
                <parent>/</parent>
            </variable>
            <variable>
                <name>settings</name>
                <value></value>
                <type>Nested</type>
                <writePermission>true</writePermission>
                <parent>/thermostat</parent>
            </variable>
            <variable>
                <name>actualTemperature</name>
                <reportName>currentTemp</reportName>
                <value>0</value>
                <unit>0.1F</unit>
                <dr_value>0</dr_value>
                <type>Float</type>
                <description>Current Temperature</description>
                <writePermission>false</writePermission>
                <showOnUi>true</showOnUi>
                <UIElement>
                    <uiType>TextView</uiType>
                    <helperText>Current Temperature</helperText>
                    <caption>Temperature</caption>
                </UIElement>
                <parent>/thermostat/settings</parent>
            </variable>
            <variable>
                <name>hvacMode</name>
                <value></value>
                <saveValueAs>off/0,heat/1,cool/2,auto/3,auxHeatOnly/4</saveValueAs>
                <passValueAs>0/off,1/heat,2/cool,3/auto,4/auxHeatOnly</passValueAs>
                <type>string</type>
                <reportName>Status</reportName>
                <minValue>null</minValue>
                <maxValue>null</maxValue>
                <description>mod</description>
                <writePermission>true</writePermission>
                <showOnUi>true</showOnUi>
                <UIElement>
                    <uiType>Spinner</uiType>
                    <helperText>HVAC Mode</helperText>
                    <caption>Mode</caption>
                    <uiElemValues>OFF,HEAT,COOL,AUTO,AUX HEAT ONLY</uiElemValues>
                </UIElement>
                <parent>/thermostat/settings</parent>
            </variable>
            <variable>
                <name>actualHumidity</name>
                <reportName>currentHumidity</reportName>
                <value>0</value>
                <dr_value>0</dr_value>
                <type>Float</type>
                <description>Current Humidity</description>
                <writePermission>false</writePermission>
                <showOnUi>true</showOnUi>
                <UIElement>
                    <uiType>TextView</uiType>
                    <helperText>Current Humidity</helperText>
                    <caption>Humidity</caption>
                </UIElement>
                <parent>/thermostat/settings</parent>
            </variable>
            <variable>
                <name>dehumidifierMode</name>
                <value></value>
                <passValueAs>0/off,1/on</passValueAs>
                <saveValueAs>off/0,on/1</saveValueAs>
                <type>string</type>
                <minValue>null</minValue>
                <maxValue>null</maxValue>
                <description>mod</description>
                <writePermission>true</writePermission>
                <showOnUi>true</showOnUi>
                <UIElement>
                    <uiType>Spinner</uiType>
                    <helperText>Dehumidifier Mode</helperText>
                    <caption>Mode</caption>
                    <uiElemValues>OFF,ON</uiElemValues>
                </UIElement>
                <parent>/thermostat/settings</parent>
            </variable>
            <variable>
                <name>dehumidifierLevel</name>
                <value></value>
                <type>Integer</type>
                <minValue>null</minValue>
                <maxValue>null</maxValue>
                <description>level</description>
                <writePermission>true</writePermission>
                <showOnUi>true</showOnUi>
                <UIElement>
                    <uiType>EditText</uiType>
                    <helperText>Dehumidifier Level</helperText>
                    <caption>level</caption>
                </UIElement>
                <parent>/thermostat/settings</parent>
            </variable>
        </variablesList>
    </driver>
</drivers>
